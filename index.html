<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TÃ¬m kiáº¿m xem ai Ä‘ang thÃ­ch báº¡n nÃ¨!? ğŸ’—</title>

<style>
body{
  margin:0;
  background: linear-gradient(135deg,#d9f7f3,#eefcff);
  font-family:-apple-system, BlinkMacSystemFont, system-ui, Arial;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  color:#2b4f60;
}

.box{
  width:180%;
  max-width:450px;
  background:rgba(255,255,255,0.75);
  backdrop-filter: blur(20px);
  padding:26px;
  border-radius:26px;
  box-shadow:0 18px 45px rgba(0,0,0,0.15);
  text-align:center;
}

h2{margin-top:0}

input{
  width:100%;
  padding:14px;
  border-radius:25px;
  border:1px solid #bfe9e4;
  margin-top:10px;
  font-size:16px;
}

button{
  margin-top:12px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:25px;
  background:#7be0d6;
  color:white;
  font-size:17px;
  cursor:pointer;
  transition:.2s;
}

button:active{transform:scale(0.96)}

#noBtn{
  background: linear-gradient(135deg,#ff4d6d,#ff0033);
  color:white;
  position:relative;
  box-shadow: 0 6px 18px rgba(255,0,60,0.35);
}

#beg{
  margin-top:10px;
  font-size:14px;
  opacity:.75;
}

.progress{
  width:100%;
  height:16px;
  background:#eefcff;
  border-radius:20px;
  margin-top:18px;
  overflow:hidden;
}

.bar{
  height:100%;
  width:0%;
  background:#7be0d6;
}

.log{
  margin-top:14px;
  text-align:left;
  height:120px;
  overflow:hidden;
  font-size:14px;
}

.heart{
  position:absolute;
  color:#7be0d6;
  animation: float 6s linear infinite;
  pointer-events:none;
}

@keyframes float{
  from{transform:translateY(100vh)}
  to{transform:translateY(-10vh)}
}
  /* FLASH */
body.flash{
  animation: flash 0.3s;
}

@keyframes flash{
  from{background:white}
  to{background:linear-gradient(135deg,#d9f7f3,#eefcff)}
}
  body.scanning{
  animation: scanFlash 0.7s infinite;
}

@keyframes scanFlash{
  0%   { filter: brightness(1); }
  50%  { filter: brightness(1.25); }
  100% { filter: brightness(1); }
}
  .again-btn{
  margin-top:18px;
  padding:12px 22px;
  font-size:16px;
  border:none;
  border-radius:14px;
  background:linear-gradient(135deg,#ff7aa2,#ffb6c1);
  color:white;
  cursor:pointer;
  font-weight:bold;
  transition:.2s;
}

.again-btn:hover{
  transform:scale(1.07);
  box-shadow:0 6px 18px rgba(0,0,0,.2);
}
</style>
</head>

<body>

<div class="box" id="main">

<h2>NÃ y báº¡n Ä‘Ã¡ng yÃªuğŸ§</h2>
<p>Báº¡n cÃ³ muá»‘n biáº¿t ai Ä‘ang tháº§m thÃ­ch báº¡n khÃ´ng? âœ¨</p>

<button onclick="goName()">CÃ³ </button>
<button id="noBtn">KhÃ´ng </button>

<p id="beg">ğŸ¥º Äá»«ng chá»n KhÃ´ng mÃ ...</p>

</div>

<script>

/* ===== NÃšT KHÃ”NG HOáº¢NG LOáº N ===== */

let moving = false;
let cooldown = false;
let escapeCount = 0;

function moveBtn(){

  if(moving || cooldown) return;

  const btn = document.getElementById("noBtn");
  if(!btn) return;

  moving = true;
  cooldown = true;
  escapeCount++;

  btn.style.position = "fixed";

  const maxX = window.innerWidth - btn.offsetWidth - 10;
  const maxY = window.innerHeight - btn.offsetHeight - 10;

  const x = Math.random() * maxX;
  const y = Math.random() * maxY;

  btn.style.left = x + "px";
  btn.style.top = y + "px";

  /* nhá» dáº§n + rung */
  btn.style.transform =
    `scale(${Math.max(0.4, 1 - escapeCount*0.03)}) 
     translate(${Math.random()*20-10}px,${Math.random()*20-10}px)`;

  /* cháº¡y nhanh dáº§n */
  const speed = Math.max(0.12, 0.4 - escapeCount*0.02);

  btn.style.transition = `left ${speed}s ease, top ${speed}s ease`;

  document.getElementById("beg").innerText =
  ["ğŸ¥º Äá»«ng chá»n KhÃ´ng mÃ ...",
   "ğŸ’— Chá»n CÃ³ Ä‘i mÃ ...",
   "ğŸ˜³ TÃ² mÃ² chÃºt thÃ´i...",
   "ğŸ¥¹ Báº¥m CÃ³ nhaaa",
   "ğŸ’˜ Tin t Ä‘ii..."
  ][Math.floor(Math.random()*5)];

  setTimeout(()=> moving = false, speed*1000);
  setTimeout(()=> cooldown = false, 120);
}


/* chuá»™t láº¡i gáº§n */
document.addEventListener("mousemove", e => {

  const btn = document.getElementById("noBtn");
  if(!btn) return;

  const rect = btn.getBoundingClientRect();

  const dx = e.clientX - (rect.left + rect.width/2);
  const dy = e.clientY - (rect.top + rect.height/2);

  const dist = Math.sqrt(dx*dx + dy*dy);

  if(dist < 140) moveBtn();

});

/* mobile */
document.addEventListener("touchstart", moveBtn);

/* click trÃºng váº«n cháº¡y */
document.addEventListener("click", e => {
  if(e.target.id === "noBtn") moveBtn();
});


/* ===== NHáº¬P TÃŠN ===== */

function goName(){
  document.getElementById("main").innerHTML=`
    <h2>TÃ¬m kiáº¿m xem ai Ä‘ang thÃ­ch báº¡n nÃ¨!? ğŸ’—</h2>
    <p>Nháº­p tÃªn cá»§a báº¡n:</p>
    <input id="name" placeholder="TÃªn cá»§a báº¡n...">
    <button onclick="scan()">KhÃ¡m phÃ¡ âœ¨</button>
  `;
}


/* ===== SCAN ===== */

function scan(){

  const name=document.getElementById("name").value || "Báº¡n";

 document.getElementById("main").innerHTML=`
  <h2>Äang káº¿t ná»‘i trÃ¡i tim...</h2>

  <div class="progress">
    <div class="bar" id="bar"></div>
  </div>

  <div class="log" id="log"></div>
`;

// â­ Báº­t hiá»‡u á»©ng nháº¥p nhÃ¡y
document.body.classList.add("scanning");
  const logs=[
    "ğŸ” Äang quÃ©t thÃ´ng tin...",
    " ğŸ’¬ Äang quÃ©t messenger",
    "ğŸ’¬ PhÃ¢n tÃ­ch ngÆ°á»i hay nháº¯n tin",
    "ğŸ“¸ Xem láº¡i khoáº£nh kháº¯c Ä‘Ã¡ng yÃªu",
    "ğŸ˜³ PhÃ¡t hiá»‡n Ã¡nh máº¯t Ä‘áº·c biá»‡t",
    "ğŸ’— TÃ¬m tháº¥y tÃ­n hiá»‡u rung Ä‘á»™ng",
    "âœ¨ Äang xÃ¡c Ä‘á»‹nh danh tÃ­nh..."
  ];

  let p=0;
  let i=0;

  const bar=document.getElementById("bar");
  const log=document.getElementById("log");

  const interval=setInterval(()=>{

    p+=2;
    bar.style.width=p+"%";

    if(p%14===0 && i<logs.length){
      const line=document.createElement("div");
      line.textContent=logs[i];
      log.appendChild(line);
      log.scrollTop=log.scrollHeight;
      i++;
    }

   if(p>=100){
  clearInterval(interval);

  // â­ THÃŠM DÃ’NG NÃ€Y
  document.body.classList.remove("scanning");

  setTimeout(()=>{
    if(p>=150){
  clearInterval(interval);

  document.body.classList.remove("scanning");

  setTimeout(()=>{
    document.getElementById("main").innerHTML=`
      <h2>Káº¿t quáº£ cho <b>${name}</b> ğŸ’—</h2>
      ...
    `;
  },900);
}
    // trá»Ÿ láº¡i ná»n cÅ© sau 1.5 giÃ¢y
setTimeout(()=>{
  document.body.style.background =
    "linear-gradient(135deg,#d9f7f3,#eefcff)";
},1500);

   /* ğŸ² RANDOM 4 Káº¾T QUáº¢ â†’ CHá»ŒN 1 */

const results = [
  "CHÃNH Báº N ğŸ˜³",
  "NgÆ°á»i báº¡n Ä‘ang Ä‘á»ƒ máº¯t tá»›i ğŸ‘€",
  "Má»™t ngÆ°á»i ráº¥t gáº§n ğŸ’—",
  "NgÆ°á»i báº¡n khÃ´ng ngá» ğŸ˜",
  "TOP SECRET ğŸ”’",
  "NgÆ°á»i Ä‘ang Ä‘á»c káº¿t quáº£ nÃ y ğŸ¤­"
];

// ğŸ‘‰ Láº¥y 4 káº¿t quáº£ KHÃC nhau
let chosen = [];

while(chosen.length < 4){
  let r = results[Math.floor(Math.random()*results.length)];
  if(!chosen.includes(r)) chosen.push(r);
}


// ğŸ‘‰ Hiá»ƒn thá»‹ khung trÆ°á»›c
document.getElementById("main").innerHTML=`
  <div class="result-box">
    <h2>Káº¿t quáº£ cho <b>${name}</b> ğŸ’—</h2>
    <p>Äang chá»n Ä‘á»‘i tÆ°á»£ng phÃ¹ há»£p nháº¥t...</p>
    <h1 id="finalResult">ğŸ¤– PhÃ¢n tÃ­ch...</h1>
  </div>
`;


// ğŸ° Quay láº§n lÆ°á»£t 4 káº¿t quáº£
let i = 0;

let spin = setInterval(()=>{
  document.getElementById("finalResult").textContent = chosen[i];
  i++;

  if(i >= 4){
    clearInterval(spin);

    // ğŸ’– chá»‘t káº¿t quáº£ cuá»‘i
    setTimeout(()=>{
      document.getElementById("finalResult").textContent = chosen[3];

      // ğŸ‘‰ thÃªm nÃºt quÃ©t láº¡i
      document.querySelector(".result-box").innerHTML += `
        <p style="margin-top:10px">KhÃ´ng thá»ƒ sai Ä‘Æ°á»£c ğŸ˜Œâœ¨</p>
        <button class="again-btn" onclick="scan()">ğŸ”„ QuÃ©t láº¡i</button>
      `;
    },500);
  }

},600);

        /* FLASH */
        document.body.classList.add("flash");
        setTimeout(()=>document.body.classList.remove("flash"),300);

        /* Ná»” TIM */
        for(let i=0;i<30;i++){
          createHeart();
        }

      },900);
    }

  },160);
}


/* ===== TRÃI TIM BAY ===== */

function createHeart(){
  const heart=document.createElement("div");
  heart.className="heart";
  heart.innerHTML="ğŸ’—";
  heart.style.left=Math.random()*100+"vw";
  heart.style.fontSize=(Math.random()*22+14)+"px";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),6000);
}

/* tim bay ná»n */
setInterval(createHeart,450);

</script>

</body>
</html>


